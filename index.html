<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>6개월 영어 학습 플래너</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #333;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .header {
      text-align: center;
      background: rgba(255, 255, 255, 0.95);
      padding: 30px;
      border-radius: 20px;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .header h1 {
      color: #4a5568;
      font-size: 2.5em;
      margin-bottom: 10px;
      background: linear-gradient(45deg, #667eea, #764ba2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .progress-overview {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin: 20px 0;
      flex-wrap: wrap;
    }

    .progress-card {
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      text-align: center;
      min-width: 150px;
    }

    .progress-card h3 {
      color: #4a5568;
      margin-bottom: 10px;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: #e2e8f0;
      border-radius: 4px;
      overflow: hidden;
      margin: 10px 0;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #667eea, #764ba2);
      transition: width 0.3s ease;
    }

    .stage-selector {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 20px 0;
      flex-wrap: wrap;
    }

    .stage-btn {
      padding: 15px 30px;
      border: none;
      border-radius: 25px;
      background: rgba(255, 255, 255, 0.8);
      color: #4a5568;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 16px;
    }

    .stage-btn.active {
      background: linear-gradient(45deg, #667eea, #764ba2);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .calendar {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }

    .week {
      margin-bottom: 30px;
    }

    .week-header {
      background: linear-gradient(45deg, #667eea, #764ba2);
      color: white;
      padding: 15px;
      border-radius: 10px;
      text-align: center;
      margin-bottom: 15px;
      font-weight: bold;
      font-size: 18px;
    }

    .days {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 15px;
    }

    .day {
      background: #f7fafc;
      border-radius: 15px;
      padding: 20px;
      border: 2px solid #e2e8f0;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .day:hover {
      border-color: #667eea;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .day-header {
      text-align: center;
      margin-bottom: 15px;
      font-weight: bold;
      color: #4a5568;
    }

    .day-date {
      background: #667eea;
      color: white;
      padding: 8px;
      border-radius: 8px;
      display: inline-block;
      margin-bottom: 10px;
      font-size: 14px;
    }

    .task {
      margin-bottom: 10px;
      padding: 10px;
      background: white;
      border-radius: 8px;
      border-left: 4px solid #e2e8f0;
      font-size: 14px;
    }

    .task.completed {
      border-left-color: #48bb78;
      background: #f0fff4;
    }

    .task-checkbox {
      margin-right: 8px;
      transform: scale(1.2);
    }

    .task-text {
      cursor: pointer;
    }

    .task.completed .task-text {
      text-decoration: line-through;
      color: #718096;
    }

    .weekend {
      background: #fff5f5;
      border-color: #feb2b2;
    }

    .stats {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      margin-top: 20px;
    }

    .stats h2 {
      text-align: center;
      color: #4a5568;
      margin-bottom: 20px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }

    .stat-item {
      text-align: center;
      padding: 15px;
      background: #f7fafc;
      border-radius: 10px;
    }

    .stat-value {
      font-size: 2em;
      font-weight: bold;
      color: #667eea;
    }

    .reset-btn {
      background: #e53e3e;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      margin: 20px auto;
      display: block;
      font-size: 14px;
    }

    .reset-btn:hover {
      background: #c53030;
    }

    @media (max-width: 768px) {
      .days {
        grid-template-columns: 1fr;
      }

      .progress-overview {
        flex-direction: column;
        align-items: center;
      }

      .stage-selector {
        flex-direction: column;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>📚 6개월 영어 학습 플래너</h1>
      <p>2025.08.18 (월) ~ 2026.02.1 (일)</p>

      <div class="progress-overview">
        <div class="progress-card">
          <h3>전체 진행률</h3>
          <div class="progress-bar">
            <div class="progress-fill" id="totalProgress"></div>
          </div>
          <span id="totalProgressText">0%</span>
        </div>
        <div class="progress-card">
          <h3>이번 주 진행률</h3>
          <div class="progress-bar">
            <div class="progress-fill" id="weekProgress"></div>
          </div>
          <span id="weekProgressText">0%</span>
        </div>
        <div class="progress-card">
          <h3>연속 학습일</h3>
          <div style="font-size: 2em; color: #667eea; font-weight: bold;" id="streak">0일</div>
        </div>
      </div>
    </div>

    <div class="stage-selector">
      <button class="stage-btn active" onclick="showStage(1)">🔰 1단계 (1~2개월)</button>
      <button class="stage-btn" onclick="showStage(2)">📈 2단계 (3~4개월)</button>
      <button class="stage-btn" onclick="showStage(3)">🎯 3단계 (5~6개월)</button>
    </div>

    <div id="stage1" class="calendar">
      <h2 style="text-align: center; margin-bottom: 20px; color: #4a5568;">🔰 1단계 - 기초 다지기</h2>
      <div id="stage1-weeks"></div>
    </div>

    <div id="stage2" class="calendar" style="display: none;">
      <h2 style="text-align: center; margin-bottom: 20px; color: #4a5568;">📈 2단계 - 문장 늘리기</h2>
      <div id="stage2-weeks"></div>
    </div>

    <div id="stage3" class="calendar" style="display: none;">
      <h2 style="text-align: center; margin-bottom: 20px; color: #4a5568;">🎯 3단계 - 말하기 확장</h2>
      <div id="stage3-weeks"></div>
    </div>

    <div class="stats">
      <h2>📊 학습 통계</h2>
      <div class="stats-grid">
        <div class="stat-item">
          <div class="stat-value" id="totalTasks">0</div>
          <div>총 완료한 과제</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="totalDays">0</div>
          <div>학습한 날짜</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="currentStage">1</div>
          <div>현재 단계</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="completionRate">0%</div>
          <div>전체 완성률</div>
        </div>
      </div>
      <button class="reset-btn" onclick="resetData()">📝 데이터 초기화</button>
    </div>
  </div>

  <script>
    // 학습 계획 데이터
    const studyPlans = {
      1: {
        weeks: 8,
        tasks: {
          weekday: {
            'mon': [
              '초등 영문법 3800제 Level 1 - 20분',
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 30문장 읽기 (25분)',
              '스피킹 매트릭스 30초 (20분)'
            ],
            'wed': [
              '초등 영문법 3800제 Level 1 - 20분',
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 30문장 읽기 (25분)',
              '스피킹 매트릭스 30초 (20분)'
            ],
            'fri': [
              '초등 영문법 3800제 Level 1 - 20분',
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 30문장 읽기 (25분)',
              '스피킹 매트릭스 30초 (20분)'
            ],
            'tue': [
              '매일 영어 루틴 쓰기노트 - 1패턴 (20분)',
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 30문장 읽기 (25분)',
              '스피킹 매트릭스 30초 (20분)'
            ],
            'thu': [
              '매일 영어 루틴 쓰기노트 - 1패턴 (20분)',
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 30문장 읽기 (25분)',
              '스피킹 매트릭스 30초 (20분)'
            ]
          },
          weekend: [
            '전 주 문법 복습 4쪽 (30분)',
            '단어 누적 복습 30분',
            '대표문장 누적 암송 30분',
            '스피킹 매트릭스 30초 2일치 (30분)'
          ]
        }
      },
      2: {
        weeks: 8,
        tasks: {
          weekday: {
            'mon': [
              'Grammar Mentor Joy 1 or 2 - 25분',
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 신규 30문장 + 복습 5문장 (25분)',
              '스피킹 매트릭스 1분 (25분)'
            ],
            'wed': [
              'Grammar Mentor Joy 1 or 2 - 25분',
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 신규 30문장 + 복습 5문장 (25분)',
              '스피킹 매트릭스 1분 (25분)'
            ],
            'fri': [
              'Grammar Mentor Joy 1 or 2 - 25분',
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 신규 30문장 + 복습 5문장 (25분)',
              '스피킹 매트릭스 1분 (25분)'
            ],
            'tue': [
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 신규 35문장 (25분)',
              '스피킹 매트릭스 1분 (25분)'
            ],
            'thu': [
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 신규 35문장 (25분)',
              '스피킹 매트릭스 1분 (25분)'
            ]
          },
          weekend: [
            'Joy 문법 복습 (주간 정리) (30분)',
            '단어 테스트 (30분)',
            '대표문장 누적 암송 (30분)',
            '스피킹 매트릭스 1분 2일치 (30분)'
          ]
        }
      },
      3: {
        weeks: 8,
        tasks: {
          weekday: {
            'mon': [
              'Grammar Mentor Joy 2 (마무리) - 20분',
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 신규 30문장 + 복습 10문장 (25분)',
              '스피킹 매트릭스 2분 (25분)'
            ],
            'wed': [
              'Grammar Mentor Joy 2 (마무리) - 20분',
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 신규 30문장 + 복습 10문장 (25분)',
              '스피킹 매트릭스 2분 (25분)'
            ],
            'fri': [
              'Grammar Mentor Joy 2 (마무리) - 20분',
              '우선순위 영단어 - 4쪽 (15분)',
              '대표문장 2500 - 신규 30문장 + 복습 10문장 (25분)',
              '스피킹 매트릭스 2분 (25분)'
            ],
            'tue': [
              '미드 영어 상황별 공식 581 - 2~3개 표현 학습 (25분)',
              '우선순위 영단어 - 4쪽 (20분)',
              '대표문장 2500 - 신규 35문장 (25분)',
              '스피킹 매트릭스 3분 (25분)'
            ],
            'thu': [
              '미드 영어 상황별 공식 581 - 2~3개 표현 학습 (25분)',
              '우선순위 영단어 - 4쪽 (20분)',
              '대표문장 2500 - 신규 35문장 (25분)',
              '스피킹 매트릭스 3분 (25분)'
            ]
          },
          weekend: [
            '단어 누적 복습 (30분)',
            '대표문장 누적 복습 (30분)',
            '미드 표현 정리 (30분)',
            '스피킹 매트릭스 2분·3분 번갈아 진행 (30분)'
          ]
        }
      }
    };

    // 시작 날짜: 2025년 1월 1일 (수요일)
    const startDate = new Date(2025, 7, 18);
    // 요일 배열을 월요일부터 시작하도록 변경
    const dayNames = ['월', '화', '수', '목', '금', '토', '일'];
    // 요일 키 배열도 변경
    const dayKeys = ['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun'];

    // 저장된 데이터 로드
    let completedTasks = JSON.parse(localStorage.getItem('englishStudyTasks') || '{}');
    let studyStreak = parseInt(localStorage.getItem('studyStreak') || '0');
    let lastStudyDate = localStorage.getItem('lastStudyDate');

    // 데이터 저장
    function saveData() {
      localStorage.setItem('englishStudyTasks', JSON.stringify(completedTasks));
      localStorage.setItem('studyStreak', studyStreak.toString());
      localStorage.setItem('lastStudyDate', lastStudyDate);
    }

    // 날짜를 키로 변환
    function dateToKey(date) {
      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
    }

    // 달력 생성
    function generateCalendar(stage) {
      const container = document.getElementById(`stage${stage}-weeks`);
      container.innerHTML = '';

      const plan = studyPlans[stage];
      const stageStartWeek = stage === 1 ? 0 : stage === 2 ? 8 : 16;

      // 시작 요일을 월요일로 맞추기 위한 로직
      const startDayIndex = (startDate.getDay() + 6) % 7; // JS getDay()는 일요일=0, 월요일=1이므로 월요일=0으로 변경
      const daysInStage = plan.weeks * 7;

      for (let day = 0; day < daysInStage; day++) {
        // 날짜를 계산
        const currentDate = new Date(startDate);
        currentDate.setDate(startDate.getDate() + (stageStartWeek * 7) + day);

        // 주차 및 요일 정보 계산
        const week = Math.floor(day / 7);
        const dayOfWeek = day % 7;

        // 새로운 주가 시작될 때 div 생성
        if (dayOfWeek === 0) {
          const weekDiv = document.createElement('div');
          weekDiv.className = 'week';
          const weekHeader = document.createElement('div');
          weekHeader.className = 'week-header';
          weekHeader.textContent = `${stageStartWeek + week + 1}주차`;
          weekDiv.appendChild(weekHeader);
          const daysDiv = document.createElement('div');
          daysDiv.className = 'days';
          weekDiv.appendChild(daysDiv);
          container.appendChild(weekDiv);
        }

        const daysDiv = container.lastElementChild.querySelector('.days');

        const dayDiv = document.createElement('div');
        dayDiv.className = 'day';

        // 주말(토, 일) 구분
        if (dayOfWeek === 5 || dayOfWeek === 6) {
          dayDiv.classList.add('weekend');
        }

        const dayHeader = document.createElement('div');
        dayHeader.className = 'day-header';
        dayHeader.innerHTML = `
            <div class="day-date">${currentDate.getMonth() + 1}/${currentDate.getDate()} (${dayNames[dayOfWeek]})</div>
        `;
        dayDiv.appendChild(dayHeader);

        // 과제 추가
        let tasks = [];
        const dayKey = dayKeys[dayOfWeek];

        if (dayOfWeek === 5 || dayOfWeek === 6) { // 주말: 토요일, 일요일
          tasks = plan.tasks.weekend;
        } else if (plan.tasks.weekday[dayKey]) {
          tasks = plan.tasks.weekday[dayKey];
        }

        tasks.forEach((taskText, taskIndex) => {
          const taskDiv = document.createElement('div');
          taskDiv.className = 'task';

          const taskKey = `${dateToKey(currentDate)}-${taskIndex}`;
          const isCompleted = completedTasks[taskKey] || false;

          if (isCompleted) {
            taskDiv.classList.add('completed');
          }

          taskDiv.innerHTML = `
                <input type="checkbox" class="task-checkbox" ${isCompleted ? 'checked' : ''}
                            onchange="toggleTask('${taskKey}', this)">
                <span class="task-text">${taskText}</span>
            `;
          dayDiv.appendChild(taskDiv);
        });

        daysDiv.appendChild(dayDiv);
      }
    }

    // 과제 완료 토글
    function toggleTask(taskKey, checkbox) {
      completedTasks[taskKey] = checkbox.checked;

      const taskDiv = checkbox.parentElement;
      if (checkbox.checked) {
        taskDiv.classList.add('completed');
      } else {
        taskDiv.classList.remove('completed');
      }

      updateProgress();
      updateStreak();
      saveData();
    }

    // 진행률 업데이트
    function updateProgress() {
      const totalTasks = Object.keys(getAllPossibleTasks()).length;
      const completedCount = Object.values(completedTasks).filter(Boolean).length;
      const totalProgress = Math.round((completedCount / totalTasks) * 100);

      document.getElementById('totalProgress').style.width = totalProgress + '%';
      document.getElementById('totalProgressText').textContent = totalProgress + '%';

      // 이번 주 진행률 계산
      const today = new Date();
      const currentDay = (today.getDay() + 6) % 7; // 월요일=0, 화요일=1 ... 일요일=6
      const weekStart = new Date(today);
      weekStart.setDate(today.getDate() - currentDay);

      let weekTasks = 0;
      let weekCompleted = 0;

      for (let i = 0; i < 7; i++) {
        const checkDate = new Date(weekStart);
        checkDate.setDate(weekStart.getDate() + i);
        const dateKey = dateToKey(checkDate);

        Object.keys(getAllPossibleTasks()).forEach(key => {
          if (key.startsWith(dateKey)) {
            weekTasks++;
            if (completedTasks[key]) weekCompleted++;
          }
        });
      }

      const weekProgress = weekTasks > 0 ? Math.round((weekCompleted / weekTasks) * 100) : 0;
      document.getElementById('weekProgress').style.width = weekProgress + '%';
      document.getElementById('weekProgressText').textContent = weekProgress + '%';

      // 통계 업데이트
      document.getElementById('totalTasks').textContent = completedCount;
      document.getElementById('completionRate').textContent = totalProgress + '%';

      const studiedDays = new Set();
      Object.keys(completedTasks).forEach(key => {
        if (completedTasks[key]) {
          studiedDays.add(key.split('-').slice(0, 3).join('-'));
        }
      });
      document.getElementById('totalDays').textContent = studiedDays.size;
    }

    // 연속 학습일 업데이트
    function updateStreak() {
      const today = dateToKey(new Date());
      const hasTasksToday = Object.keys(completedTasks).some(key =>
        key.startsWith(today) && completedTasks[key]
      );

      if (hasTasksToday) {
        if (!lastStudyDate || lastStudyDate !== today) {
          const yesterday = new Date();
          yesterday.setDate(yesterday.getDate() - 1);
          const yesterdayKey = dateToKey(yesterday);

          if (lastStudyDate === yesterdayKey) {
            studyStreak++;
          } else if (lastStudyDate !== today) {
            studyStreak = 1;
          }

          lastStudyDate = today;
        }
      }

      document.getElementById('streak').textContent = studyStreak + '일';
    }

    // 모든 가능한 과제 키 생성
    function getAllPossibleTasks() {
      const allTasks = {};

      Object.keys(studyPlans).forEach(stage => {
        const plan = studyPlans[stage];
        const stageStartWeek = stage === '1' ? 0 : stage === '2' ? 8 : 16;
        const daysInStage = plan.weeks * 7;

        for (let day = 0; day < daysInStage; day++) {
          const currentDate = new Date(startDate);
          currentDate.setDate(startDate.getDate() + (stageStartWeek * 7) + day);

          let tasks = [];
          const dayOfWeek = (currentDate.getDay() + 6) % 7; // 월요일=0, 화요일=1 ... 일요일=6
          const dayKey = dayKeys[dayOfWeek];

          if (dayOfWeek === 5 || dayOfWeek === 6) {
            tasks = plan.tasks.weekend;
          } else if (plan.tasks.weekday[dayKey]) {
            tasks = plan.tasks.weekday[dayKey];
          }

          tasks.forEach((taskText, taskIndex) => {
            const taskKey = `${dateToKey(currentDate)}-${taskIndex}`;
            allTasks[taskKey] = taskText;
          });
        }
      });

      return allTasks;
    }

    // 단계 표시
    function showStage(stage) {
      // 모든 단계 숨기기
      for (let i = 1; i <= 3; i++) {
        document.getElementById(`stage${i}`).style.display = 'none';
        document.querySelectorAll('.stage-btn')[i - 1].classList.remove('active');
      }

      // 선택한 단계 보이기
      document.getElementById(`stage${stage}`).style.display = 'block';
      document.querySelectorAll('.stage-btn')[stage - 1].classList.add('active');
      document.getElementById('currentStage').textContent = stage;
    }

    // 데이터 초기화
    function resetData() {
      if (confirm('정말로 모든 학습 데이터를 초기화하시겠습니까?')) {
        completedTasks = {};
        studyStreak = 0;
        lastStudyDate = null;
        localStorage.clear();
        location.reload();
      }
    }

    // 초기화
    function init() {
      generateCalendar(1);
      generateCalendar(2);
      generateCalendar(3);
      updateProgress();
      updateStreak();
    }

    // 페이지 로드 시 초기화
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>

</html>


